<!DOCTYPE html>
<html>
       <head>
       <meta http-equiv="Content-type"
       content="textml" charset="UTF-8"/>
       <link rel="stylesheet" type="text/css" href="">
       
            <script type="text/javascript">
    /* 定义一个Calculator类*/
    function Calculator(){
        this.jisuan=function(num1,num2,oper){
            var res=0;
            switch(oper){
                case "+":
                    res=num2+num1;
                    break;
                case "-":
                    res=num2-num1;
                    break;
                case "*":
                    res=num2*num1;
                    break;
                case "/":
                    res=num2/num1;
                    break;
            }
            return res;
        }
    }
    //创建对象
    var calculator=new Calculator();
    /*定义全局变量*/
    var val=0; //放置输入的值
    var xval=0;//保存转换Number类型的值
    var temp=0; //保存第一次输入的值    
    var oper="";//保存输入的操作符
    /*获取输入数字*/
    function inputEvent(e){
        val=e.value
        var xsval=document.getElementById("inp1");        
        xsval.value+=val; //连续输入数字(String类型)
        //转换Number类型
        xval=parseFloat(xsval.value);
    }
    /*获取第一行的数据*/
    function inputPCB(e){
        //window.alert(e.value);
        var xsval=document.getElementById("inp1");
        if(e.value=="C"){
            xsval.value="";
        
                       
        }
    }
    /*输入操作符*/
    function inputOper(e){
        oper=e.value;
        //window.alert(typeof oper);
        //oper=oper.substr(0);
        if (e.value=="+"){
            var xsval=document.getElementById("inp1");
            //保存上次计算结果，并对字符串进行转换Number类型
            temp=parseFloat(xsval.value);
            //第一次输入的值设置为空
            xsval.value="";                        
        }else if(e.value=="-"){
            var xsval=document.getElementById("inp1");
            temp=parseFloat(xsval.value);
            xsval.value="";
        }else if(e.value=="*"){
            var xsval=document.getElementById("inp1");
            temp=parseFloat(xsval.value);
            xsval.value="";
        }else if(e.value=="/"){
            var xsval=document.getElementById("inp1");
            temp=parseFloat(xsval.value);
            xsval.value="";
        }
    }
    /*计算结果*/
    function inputEquel(e){
        var xsval=document.getElementById("inp1");        
        if(e.value=="="){
            //window.alert(xval);
            //调用对象方法
            xsval.value=calculator.jisuan(temp,xval,oper);
        }
    }


        </script> 
        <style>
    input{
        width:60px;
    }
    #inp1{
        width:280px;
        text-align:right;
    }
</style>
                 
       </head>
        <body>
              <table  border="2" ">
                <tr>
                  <td colspan="3" align="right"  width="80px" >
					<input type="text" value="" width="90px"
					id="inp1" name="xianshi" align="right"></input>
				  </td>  

                  <td width="30px">
					<input type="button" name="num" value="C"  onclick="inputPCB(this)"/>
				 </input>
                  </td>

                </tr>
                <tr>
                 <td>
				  <input type="button" value="1" 
				  onclick="inputEvent(this)"></input>
				 </td>
				 <td>
				 <input type="button"  value="2" 
				 onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button" value="3" 
				 onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button"  value="+" 
				onclick="inputOper(this)"/></input></td>
                </tr>
                <tr>
                <td>
				  <input type="button"  value="4" 
				  onclick="inputEvent(this)"/></input>
				 </td>
				 <td>
				 <input type="button" value="5" 
				onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button"  value="6" 
				 onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button"  value="-" 
				onclick="inputOper(this)"/></input></td></tr>
                <tr>
                <td>
				  <input type="button"  value="7" onclick="inputEvent(this)"/></input>
				 </td>
				 <td>
				 <input type="button" value="8" 
				onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button"  value="9" 
				 onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button" value="*" 
				onclick="inputOper(this)"/></input></td></tr>
                <tr>
                <td>
				  <input type="button"  value="0" 
				 onclick="inputEvent(this)"/></input>
				 </td>
				 <td>
				 <input type="button"  value="."
				onclick="inputEvent(this)"/></input></td>
				 <td>
				 <input type="button" value="=" 
				 onclick="inputEquel(this)"，/></input></td>
				 <td>
				 <input type="button"  value="/" 
				onclick="inputOper(this)"/></input></td></tr>
              </table>
        </body>
</html>